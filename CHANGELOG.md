<!--
 * @FilePath: /AutoAPIGen/CHANGELOG.md
 * @Description: 
-->
# Changelog

## [1.2.13] - 2026-01-29

### 🐛 问题修复

- **Array 类型代码生成修复**：修复 array 类型生成时出现双重 `[]` 的问题（如 `xxxItem[][]`），现在正确生成为 `xxxItem[]` ✅
- **空对象检查逻辑优化**：修复 `buildChildrenOutput` 函数中对 array 类型的空对象检查逻辑，正确检查 `items.properties` 而不是 `noRef.properties` ✅
- **接口定义分号补全**：在 `export type xxx = object` 和 `export type xxx = xxxItem[]` 语句末尾添加分号，确保代码格式正确 ✅
- **更新已存在文件时的代码拼接修复**：修复更新已存在接口文件时，子类型定义被错误拼接到其他接口定义后面的问题 ✅
- **类型定义删除优化**：增强 `removeTypeDefinitions` 函数，支持删除子类型定义（如 `xxxResItem`、`xxxResItemItem`）和独立的类型引用行 ✅

### 🔧 功能增强

- **Array 类型 Interface 生成**：对于 array 类型，现在使用 `items` 对象生成正确的 interface 定义，而不是使用整个 array 对象 ✅
- **子类型命名优化**：`output` 函数调用时传入正确的接口名称（`childrenInterfaceName` 而不是 `childrenFaceName`），确保生成的代码更加规范 ✅

## [1.2.12] - 2025-01-25

### 🔧 功能增强

- **接口字段描述支持**：生成 interface 时支持 `description` 字段作为注释，优先使用 `title`，没有则使用 `description` ✅
- **x-apifox-refs 引用解析**：完善 `transformSchema` 函数，支持解析 `x-apifox-refs` 中的 `$ref` 引用并合并到 properties ✅
- **x-apifox-overrides 覆盖配置**：支持通过 `x-apifox-overrides` 覆盖引用 schema 中的字段定义 ✅

### 🐛 问题修复

- **单行 type 定义删除修复**：修复 `removeTypeDefinitions` 函数处理 `export type xxx = boolean` 单行类型定义时，导致后续内容被误删的问题 ✅
- **空对象 interface 警告修复**：当 body 参数为空或 properties 为空时，生成 `export type xxx = object` 替代空 interface，避免 ESLint 警告 ✅
- **空引用对象处理优化**：当 `$ref` 引用的 schema 是空对象时，直接返回 `{ [key: string]: any }` 而不是生成空 interface ✅

## [1.2.11] - 2025-01-27

### 🆕 新增功能

- **Cookie认证方式支持**：新增Cookie字段作为Authorization的替代认证方案，支持通过浏览器Cookie进行API认证 ✅
- **灵活认证逻辑**：支持Authorization或Cookie任一方式进行身份验证，提供更多登录选择 ✅

### 🔧 功能增强

- **Schema引用解析优化**：完善API数据模型解析逻辑，支持`x-apifox-refs`和`$ref`两种引用方式的递归解析 ✅
- **HTTP请求头优化**：根据认证方式动态配置请求头，Cookie和Authorization方式使用不同的请求配置 ✅

### 🐛 问题修复

- **引用解析修复**：修复API数据模型中复杂引用关系的解析问题，支持嵌套引用的正确处理 ✅

## [1.2.10] - 2025-06-04

### 优化

- 在自定义参数配置中返回了useProjectId的配置项，用于在自定义函数模板中判断是否需要添加项目ID ✅

## [1.2.9] - 2025-06-03

### 新增功能

- 添加启用类型拓展的配置项，支持动态配置是否使用[key: string]: any来扩展类型定义 ✅

### 修复问题

- 修复了数据返回的data使用的是数据模型引用为数组时，生成的数据类型是子项的引用类型的问题 ✅

## [1.2.8] - 2025-05-28

### 新增功能

- 根据配置决定是否在 AXIOS 请求中包含项目 ID ✅
- 优化接口请求配置，支持在请求头中传递项目ID信息 ✅
- 在配置界面添加了"是否使用项目 ID"的开关选项 ✅

## [1.2.6] - 2025-05-22

### 功能增强

- 新增项目标识传递机制，确保跨项目接口请求的正确性 ✅
- 改进接口请求配置，自动携带projectId到后端服务 ✅
- 支持在自定义函数模板中访问项目ID信息 ✅

### 编辑器优化

- 重构Monaco编辑器加载逻辑，增加错误处理机制 ✅
- 优化TypeScript类型定义，使用明确的类型引用替代全局声明 ✅
- 完善编辑器配置项类型安全，减少运行时错误 ✅

### 代码质量提升

- 改进Vue组件数据绑定方式，使用计算属性提高响应性 ✅
- 优化类型定义系统，增强项目整体类型安全 ✅
- 修正LICENSE文件格式，移除多余注释信息 ✅

## [1.2.5] - 2025-05-09

### 性能优化

- 优化Monaco编辑器加载策略，减少初始化时间 ✅
- 实现Monaco编辑器极简离线版，提高弱网环境下的可用性 ✅
- 减少插件打包体积，提升安装和加载速度 ✅

### 构建改进

- 新增编译产物清理脚本，自动移除不必要的代码块 ✅
- 优化.vscodeignore配置，确保关键依赖不被排除 ✅
- 改进构建流程，增加预发布时的资源优化步骤 ✅

### 代码优化

- 重构Monaco编辑器相关代码，提高加载效率 ✅
- 优化chunk分割策略，减少不必要的资源加载 ✅
- 增加MIT开源许可证文件，规范项目法律状态 ✅

## [1.2.4] - 2025-05-07

### 新增功能

- 添加对JSON Schema引用（$ref）的解析和渲染支持 ✅
- 优化接口详情页中引用类型参数的展示效果 ✅
- 实现多层嵌套引用类型的递归解析功能 ✅

### 代码优化

- 重构接口详情页数据处理逻辑，提高复杂引用类型的解析效率 ✅
- 优化apiDataSchemas数据的传递和存储方式 ✅
- 减少不必要的控制台日志输出，提高应用性能 ✅

### 交互改进

- 完善引用类型参数的表格呈现方式，提升用户体验 ✅
- 优化复杂嵌套结构的展示逻辑，增强数据可读性 ✅
- 统一参数解析和显示流程，保持UI展示的一致性 ✅

## [1.2.3] - 2025-04-29

### 新增功能

- 添加React响应式代码生成功能，支持useState hooks模式 ✅
- 实现嵌套结构参数的React状态管理代码生成 ✅
- 提供深层嵌套对象的状态更新辅助函数 ✅

### 代码优化

- 优化类型转换逻辑，修复复杂引用类型处理中的边缘情况 ✅
- 改进类型推导机制，增强对空值和可选字段的处理 ✅
- 重构响应式代码模板，统一Vue和React代码风格 ✅

### 交互改进

- 增加React代码复制按钮，便于直接使用生成的代码 ✅
- 统一标签页切换体验，保持Vue和React代码同步生成 ✅
- 优化编辑器组件展示，确保大型代码段的高效渲染 ✅

## [1.2.1] - 2024-07-05

### 新增功能

- 添加Vue3响应式代码生成功能，支持直接在标签页查看生成的代码 ✅
- 实现自动根据API参数生成TypeScript类型的Vue3响应式对象 ✅
- 支持嵌套结构参数的响应式代码生成，同时保持类型安全 ✅

### 代码优化

- 优化Vue响应式代码格式，参数注释与字段显示在同一行 ✅
- 改进响应式代码模板，自动使用正确的接口类型定义 ✅
- 修复编辑器组件显示问题，确保代码正确渲染 ✅

### 交互改进

- 新增代码复制按钮，方便用户直接使用生成的Vue3代码 ✅
- 优化标签页切换逻辑，确保代码内容实时更新 ✅
- 调整响应式代码生成机制，提高代码可读性和实用性 ✅

## [1.2.0] - 2024-06-08

### 新增功能

- 添加完整的接口详情页，支持查看API详细信息 ✅
- 实现请求参数、响应数据和示例代码的可视化展示 ✅
- 支持复杂嵌套参数的树形结构展示 ✅

### 数据增强

- 增加获取项目成员接口，显示接口创建者和修改者信息 ✅
- 完善接口详情数据的获取和处理逻辑 ✅
- 优化JSON格式化展示，提高可读性 ✅

### UI组件

- 开发参数表格组件(ParamTable)，支持嵌套参数显示 ✅
- 升级编辑器组件，增加JSON格式化和语法高亮功能 ✅
- 实现请求头、路径参数、查询参数和Cookie参数的结构化展示 ✅

## [1.1.7] - 2025-02-25

### 架构优化

- 重构核心代码生成模块的错误处理机制 ✅
- 增加代码生成过程的状态追踪日志 ✅

### 功能修复

- 修复多级项目切换时的参数传递异常问题 ✅  
- 解决复杂类型数组参数的类型推导错误 ✅
- 修复侧边栏主题切换时的DOM残留问题 ✅

### 交互改进

- 新增项目级联选择器支持多级工程切换 ✅
- 优化API树状列表的搜索匹配算法 ✅
- 增强错误日志的可读性与定位能力 ✅

## [1.1.5] - 2023-10-16

- 修复了接口定义中使用中文和特殊字符作为参数名，导致无法生成文件的问题 ✅
- 修复了操作菜单出现在上方无法选中的问题 ✅
- 修复了微信小程序接口生成时`qs`未导入的问题 ✅

## [1.0.1] - 2023-10-15

### 修复

- 修复生成文件时，部分类型转换错误问题 ✅
- 修复生成文件时，ESLint插件配置错误问题 ✅
- 修复接口树列表中文档类型未显示问题 ✅
- 修复快速使用函数插入位置在头部注释之前的问题 ✅

### 新增

- 内置生成微信小程序接口请求方法及接口 ✅

## [1.0.0] - 2023-10-13

- 关联apifox，查看搜索项目接口列表 ✅
- 生成基本的axios请求及对应ts类型文件以及自定义功能 ✅
- 支持文件路径别名、接口返回值过滤、代码格式化配置 ✅